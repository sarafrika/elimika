<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Order Receipt</title>
</head>
<body style="font-family: Arial, sans-serif; color: #1f2933; background: #f6f8fa; padding: 24px;">
<table width="100%" cellpadding="0" cellspacing="0" style="max-width: 720px; margin: 0 auto; background: #ffffff; border-radius: 8px; padding: 24px;">
    <tr>
        <td>
            <h2 style="margin: 0 0 8px 0; color: #0f172a;">Thanks for your payment!</h2>
            <p style="margin: 0 0 12px 0;">Hi <span th:text="${recipientName}">Learner</span>,</p>
            <p style="margin: 0 0 12px 0;">Here is your receipt for order <strong th:text="${orderDisplayId != null ? orderDisplayId : orderId}">#12345</strong>.</p>
        </td>
    </tr>
    <tr>
        <td style="padding: 12px 0;">
            <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
                <tr style="background: #f1f5f9;">
                    <th align="left" style="padding: 8px; border-bottom: 1px solid #e2e8f0;">Item</th>
                    <th align="center" style="padding: 8px; border-bottom: 1px solid #e2e8f0;">Qty</th>
                    <th align="right" style="padding: 8px; border-bottom: 1px solid #e2e8f0;">Price</th>
                </tr>
                <tr th:each="item : ${items}">
                    <td style="padding: 8px; border-bottom: 1px solid #e2e8f0;" th:text="${item.title}">Course/Class Access</td>
                    <td style="padding: 8px; border-bottom: 1px solid #e2e8f0;" align="center" th:text="${item.quantity}">1</td>
                    <td style="padding: 8px; border-bottom: 1px solid #e2e8f0;" align="right">
                        <span th:text="${#numbers.formatDecimal(item.total, 1, 'COMMA', 2, 'POINT')}"></span>
                        <span th:text="${currencyCode}">KES</span>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td style="padding: 12px 0;">
            <table width="100%" cellpadding="0" cellspacing="0">
                <tr>
                    <td align="left" style="padding: 6px 0; color: #475569;">Subtotal</td>
                    <td align="right" style="padding: 6px 0;">
                        <span th:text="${#numbers.formatDecimal(subtotal, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                        <span th:text="${currencyCode}">KES</span>
                    </td>
                </tr>
                <tr th:if="${platformFeeAmount != null}">
                    <td align="left" style="padding: 6px 0; color: #475569;">Platform fee</td>
                    <td align="right" style="padding: 6px 0;">
                        <span th:text="${#numbers.formatDecimal(platformFeeAmount, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                        <span th:text="${platformFeeCurrency != null ? platformFeeCurrency : currencyCode}">KES</span>
                    </td>
                </tr>
                <tr>
                    <td align="left" style="padding: 8px 0; font-weight: 700;">Total Paid</td>
                    <td align="right" style="padding: 8px 0; font-weight: 700;">
                        <span th:text="${#numbers.formatDecimal(total, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                        <span th:text="${currencyCode}">KES</span>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td style="padding: 12px 0; color: #475569; font-size: 14px;">
            <p style="margin: 0 0 8px 0;">Payment status: <strong th:text="${paymentStatus}">PAID</strong></p>
            <p style="margin: 0;">Order placed on <span th:text="${#temporals.format(createdAt, 'yyyy-MM-dd HH:mm ''UTC''')}">2025-11-18 09:00 UTC</span></p>
        </td>
    </tr>
</table>
</body>
</html>
